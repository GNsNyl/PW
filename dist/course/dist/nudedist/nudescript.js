const scene=new THREE.Scene;scene.background=new THREE.Color(0);const mousePosition=new THREE.Vector2;window.addEventListener("mousemove",function(o){mousePosition.x=o.clientX/innerWidth*2-1,mousePosition.y=-(2*(o.clientY/innerHeight))+1});const camera=new THREE.PerspectiveCamera(75,innerWidth/innerHeight,.1,1e3),renderer=new THREE.WebGLRenderer;camera.position.z=5,renderer.setSize(innerWidth,innerHeight),renderer.setPixelRatio(devicePixelRatio);var loader=new THREE.TextureLoader;const monotexture=new THREE.MeshBasicMaterial({map:loader.load("mono.png"),transparent:!0}),monogeo=new THREE.PlaneGeometry(2,3),mono=new THREE.Mesh(monogeo,monotexture);function animate(){requestAnimationFrame(animate),renderer.render(scene,camera),window.addEventListener("resize",onWindowResize)}scene.add(mono),animate(),document.body.appendChild(renderer.domElement);const light=new THREE.DirectionalLight(16777215,1);light.position.set(0,0,3),scene.add(light);var particles=6777,geometry1=new THREE.BufferGeometry,geometry2=new THREE.BufferGeometry,geometry3=new THREE.BufferGeometry,geometry4=new THREE.BufferGeometry,geometry5=new THREE.BufferGeometry;let positions=[],imaterial=[],positions1=[],positions2=[],positions3=[],positions4=[],positions5=[];for(var particlesAFRICA1=209,particlesEURO2=3937,particlesASIA3=109,particlesNORTHAMERICA4=1792,particlesSOUTHAMERICA5=16,n=16,n2=n/2,n11=7,n12=n11/2,n21=10,n22=n21/2,n31=6,n32=n31/2,n41=8,n42=n41/2,n51=5,n52=n51/2,i=0;i<particles;i++){var o=Math.random()*n-n2,e=Math.random()*n-n2,t=Math.random()*n-n2;positions.push(o,e,t)}for(var i=0;i<217;i++){var s=loader.load("resize/"+i+".jpg"),r=new THREE.PointsMaterial({size:.3,map:s});imaterial.push(r)}for(var i1=0;i1<particlesAFRICA1;i1++){var p=Math.random()*n11-n12,a=Math.random()*n11-n12,l=Math.random()*n11-n12;positions1.push(p,a,l)}for(var i2=0;i2<particlesEURO2;i2++){var d=Math.random()*n21-n22,m=Math.random()*n21-n22,c=Math.random()*n21-n22;positions2.push(d,m,c)}for(var i3=0;i3<particlesASIA3;i3++){var $=Math.random()*n31-n32,_=Math.random()*n31-n32,u=Math.random()*n31-n32;positions3.push($,_,u)}for(var i3=0;i3<particlesNORTHAMERICA4;i3++){var f=Math.random()*n41-n42,g=Math.random()*n41-n42,y=Math.random()*n41-n42;positions4.push(f,g,y)}for(var i3=0;i3<particlesSOUTHAMERICA5;i3++){var w=Math.random()*n51-n52,v=Math.random()*n51-n52,A=Math.random()*n51-n52;positions5.push(w,v,A)}geometry1.setAttribute("position",new THREE.Float32BufferAttribute(positions1,3)),geometry2.setAttribute("position",new THREE.Float32BufferAttribute(positions2,3)),geometry3.setAttribute("position",new THREE.Float32BufferAttribute(positions3,3)),geometry4.setAttribute("position",new THREE.Float32BufferAttribute(positions4,3)),geometry5.setAttribute("position",new THREE.Float32BufferAttribute(positions5,3)),geometry1.computeBoundingSphere(),geometry2.computeBoundingSphere(),geometry3.computeBoundingSphere(),geometry4.computeBoundingSphere(),geometry5.computeBoundingSphere();var materialpointsred=new THREE.PointsMaterial({color:16711680,size:.3,vertexColors:!1});const points1=new THREE.Points(geometry1,materialpointsred),points2=new THREE.Points(geometry2,materialpointsred),points3=new THREE.Points(geometry3,materialpointsred),points4=new THREE.Points(geometry4,materialpointsred),points5=new THREE.Points(geometry5,materialpointsred);let points=[];const materials=[];let count=0;for(let i=0;i<217;i++){var h=new THREE.BufferGeometry,P=loader.load("resize/"+i+".jpg"),B=new THREE.PointsMaterial({size:.3,map:P,blending:THREE.AdditiveBlending,depthTest:!1,transparent:!1});h.setAttribute("position",new THREE.Float32BufferAttribute(positions.slice(count,count+31),3)),h.computeBoundingSphere();var z=new THREE.Points(h,imaterial[i]);count+=31,points.push(z),scene.add(z)}function updatePoints(o){points1.position.z=55-window.scrollY/26,points1.position.x=5-window.scrollY/150,points2.position.z=55-window.scrollY/26,points2.position.x=5-window.scrollY/80,points3.position.z=55-window.scrollY/26,points3.position.x=0,points4.position.z=55-window.scrollY/26,points4.position.x=-5+window.scrollY/80,points5.position.z=55-window.scrollY/26,points5.position.x=-5+window.scrollY/150}function dissolveContinentPoints(){points1.position.z>-90?(points1.position.y=0,points2.position.y=0,points3.position.y=0,points4.position.y=0,points5.position.y=0):(points1.position.y=0+window.scrollY/5,points2.position.y=0+window.scrollY/5,points3.position.y=0+window.scrollY/5,points4.position.y=0+window.scrollY/5,points5.position.y=0+window.scrollY/5)}function addMetPoints(){if(window.scrollY<500)for(let o=0;o<points.length;o++)points[o].position.y=-50+window.scrollY/10,points[o].position.z=-75;else for(let e=0;e<points.length;e++)points[e].position.y=0,points[e].position.z=-125+window.scrollY/10}function onWindowResize(){camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight)}scene.add(points1,points2,points3,points4,points5),window.addEventListener("scroll",updatePoints),window.addEventListener("scroll",dissolveContinentPoints),window.addEventListener("scroll",addMetPoints);